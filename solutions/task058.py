p=lambda g:g and[x:=[3]*len(g),x*(len(g)<3)+[*g[0][1:],3],*zip(*p([*zip(*g[2:])])[::-1])]