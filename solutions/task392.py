R=range(10)
p=lambda g:[[[w:=max(max(g)),5,5][min(max(abs(x-X),abs(y-Y))for X in R for Y in R if g[Y][X])%(3-(f'0, {w}, '*2in'%s'%g))]for x in R]for y in R]