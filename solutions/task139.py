import re;p=lambda g,k=19:-k*g or p(eval(re.sub("0(?=..[47].{25}[47])","7",f"{[*zip(*g[::-1])]}")),k-1)