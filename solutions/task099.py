p=lambda g,n=0,*q:[q:=[r[i]or(1in{*q[:i+1]}&{*q[i:]})*~-sum({*q})for i in range(10)]for r in(n or p(g,g))[::-1]]