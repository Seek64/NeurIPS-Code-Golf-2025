from re import*
def p(g):
	for p in(w:=sum(g,[])):w.count(p)>3<w[::-1].index(p)+w.index(p)-392<7>(c:=p)
	for n in[11,271,1]*4:
		if x:=search(f'{c}{"."*n}([1-9])',g:=str(g)):
			x=int(x[1])
			for _ in g:g=sub(f'([x{c}]{"."*n})[0{x}]',r'\1x',g)
		g=[r[::-1]for*r,in zip(*eval(g))]
	return g