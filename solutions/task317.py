p=lambda g:g and[*map([bool,p][all(g)],g[1:2]*3)]+p(g[3:])