p=lambda g:exec('g[:]=zip(*g[any(g[-1])-2::-1]);'*80)or[[g[1>c][0]for c in r]for _,*r,_ in g[1:-1]]