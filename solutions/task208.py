import re
def p(g,S=re.sub):x=min(f:=sum(g,[]),key=f.count);l=[str([y for*c,y in zip(*g,r)if x in c])[1:-1]for r in g if x in r];return eval(S(f"(.{{{65-len(l[0])}}})".join(S(str(x),f"[^{x}]",r)for r in l),"\%d ".join(l)%(*range(1,len(l)),),str(g)))