e=enumerate;p=lambda g:[[(S:=sum(sorted([(X:=x-i)*X+(Y:=y-j)*Y,~max(X*X,Y*Y)%2*c]for x,r in e(g)for y,c in e(r)if c),[]))[1]*(S<[S[2]])for j,_ in e(g)]for i,_ in e(g)]